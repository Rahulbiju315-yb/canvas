package Dialogs;

import javax.swing.*;
import java.awt.event.*;
import java.awt.*;
import Tools.*;

public class Fractal
{
    String axiom,strF,strf="",strX,strY;
    float rotation,dirStart,fxStart,fyStart,lengthFract,reductFact;

    JTextField[] str = new JTextField[5];
    JTextField[] flt= new JTextField[6];
    JTextField igr = new JTextField();
    String[] label ={"Axiom:","F-String","f-String","X-String","Y-String","Rotation angle","Initial Direction","Start-X"
                   ,"Start Y","F length","Reduction factor","Level"};
    public Fractal()
    {
        for(int i=0;i<5;i++)
        {
            str[i] = new JTextField(10);
        }
        for(int i=0;i<6;i++)
        {
            flt[i] = new JTextField(10);
        }
        igr = new JTextField(10);
    }

    public void show()
    {
        JTextField[] comp ={str[0],str[1],str[2],str[3],str[4],
                flt[0],flt[1],flt[2],flt[3],flt[4],flt[5],
                igr};
        JPanel pa = new JPanel();
        JPanel r[] = new JPanel[12];
        pa.setLayout(new BoxLayout(pa,BoxLayout.Y_AXIS));
        for(int i=0;i<12;i++)
        {
            r[i]= new JPanel();
            r[i].add(new JLabel(label[i]));
            r[i].add(comp[i]);
            pa.add(r[i]);
        }                    
        Object a = null;                  
        a = JOptionPane.showConfirmDialog(Resource.frame,pa);
        if(a!=null)
        {
            axiom = str[0].getText();
            strF  = str[1].getText();
            strf  = str[2].getText();
            strX  = str[3].getText();
            strY  = str[4].getText();
            
            rotation = Float.parseFloat(flt[0].getText());
            dirStart = Float.parseFloat(flt[1].getText());
            fxStart  = Float.parseFloat(flt[2].getText());
            fyStart  = Float.parseFloat(flt[3].getText());
            lengthFract = Float.parseFloat(flt[4].getText());
            reductFact = Float.parseFloat(flt[5].getText());
            
             AbstractHandler.easel.frc.axiom = axiom;     
             AbstractHandler.easel.frc.strF  = strF;
             AbstractHandler.easel.frc.strf  = strf;
             AbstractHandler.easel.frc.strX  = strX;
             AbstractHandler.easel.frc.strY  = strY;
             
            AbstractHandler.easel.frc.rotation =rotation;
            AbstractHandler.easel.frc.dirStart =dirStart;
            AbstractHandler.easel.frc.fxStart  =AbstractHandler.easel.frc.fx(fxStart) ;
            AbstractHandler.easel.frc.fyStart  =AbstractHandler.easel.frc.fy(fyStart) ;
            System.out.println(AbstractHandler.easel.frc.fxStart +"\n"+AbstractHandler.easel.frc.fyStart);
            AbstractHandler.easel.frc.lengthFract =lengthFract;
            AbstractHandler.easel.frc.reductFact =reductFact;
            AbstractHandler.easel.frc.level      = Integer.parseInt(igr.getText());  
            AbstractHandler.easel.drfr();
        }
    }
}
